<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Audio API Sample</title>
    <script src="assets/vendor/boostrap-5.0.2/js/bootstrap.bundle.min.js"></script>
    <link href="assets/vendor/boostrap-5.0.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="assets/js/ToneGenerator.js"  type="module"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-nightfall.min.css"
          rel="stylesheet" media="(prefers-color-scheme: dark)">
    <style>
        h2{color:#efefef !important   }
    </style>
<script>
    function single_click() {
        toneGenerator.playSingle(
            document.getElementById("singleFreq").value,
            document.getElementById("singleDuration").value
        );
    }


    function sequence_click() {
        toneGenerator.playSequence(document.getElementById("sequence").value)
    }

    function alternating_click() {
        toneGenerator.playAlternating(
            document.getElementById("freqLow").value,
            document.getElementById("freqHi").value,
            document.getElementById("freqAlt").value,
            document.getElementById("duration").value
        );
    }
</script>
    <script  type="module">
        import {ToneGenerator} from "./assets/js/ToneGenerator.js";
        window.toneGenerator = new ToneGenerator();
        
    </script>

</head>
<body style="background-color: #1a1e21">
<div class="container text-center">
    <h2>Single Tone</h2>
    <div class="input-group mb-3">
        <span class="input-group-text">Freq (Hz)</span>
        <input id="singleFreq" type="text" class="form-control" placeholder="800" value="800">
        <span class="input-group-text">Duration (s)</span>
        <input id="singleDuration" type="text" class="form-control" placeholder="1" value="1">
        <button class="btn btn-success" onclick="single_click()">Play</button>
    </div>
    <h2>Alternating (Siren)</h2>
    <div class="input-group mb-3">
        <span class="input-group-text">High (Hz)</span>
        <input id="freqHi" type="text" class="form-control" placeholder="800" value="800">
        <span class="input-group-text">Low (Hz)</span>
        <input id="freqLow" type="text" class="form-control" placeholder="400" value="400">
        <span class="input-group-text">Alternate (Hz)</span>
        <input id="freqAlt" type="text" class="form-control" placeholder="10" value="10">
        <span class="input-group-text">Duration (s)</span>
        <input id="duration" type="text" class="form-control" placeholder="1" value="1">
        <button class="btn btn-warning" onclick="alternating_click()">Play</button>

    </div>
    <h2>Text Sequencer</h2>

    <div class="input-group mb-3">
        <span class="input-group-text">Squence {freq}@{timeMs} | ...</span>
        <input id="sequence" type="text" class="form-control" value="500@0 | 600@1 | 700@1.5 | 100@3 | 0@3.1">
        <button class="btn btn-danger" onclick="sequence_click()">Play</button>
    </div>
    <h2>Premade</h2>
    <div class="input-group mb-3">
        <span class="input-group-text" style="width:10rem">RWR </span>
        <button class="btn btn-success" onclick="toneGenerator.playSingle(460,.25)">Contact</button>
        <button class="btn btn-danger" onclick="toneGenerator.playSequence('575@0 | 550@.1 | 525@.2 | 500@.3 | 0@.4')">Special
            Contact
        </button>
        <button class="btn btn-warning" onclick="toneGenerator.playAlternating(570,380,3,2)">Lock</button>
    
        <button class="btn btn-warning" onclick="toneGenerator.playAlternating(570,380,12,2)">Launch</button>
        <button class="btn btn-danger" onclick="toneGenerator.playSequence('2000@0 | 2700@.30 | 2000@.50 | 2700@.80 | 0@1')">MASTER
        </button>
    </div>
    <div class="input-group mb-3">
        <span class="input-group-text" style="width:10rem">Prompt </span>
        <button class="btn btn-danger" onclick="toneGenerator.playSequence('400@0 | 300@.1 | 500@.2 | 0@.3')">Success</button>
        <button class="btn btn-danger" onclick="toneGenerator.playSequence('500@0 | 400@.1 | 0@.2')">Confirmed</button>
        <button class="btn btn-success" onclick="toneGenerator.playSingle(400,.1)">Entered</button>
    </div>

</div>
</body>
</html>
